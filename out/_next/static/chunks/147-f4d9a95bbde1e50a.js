"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[147],{25016:(e,t,a)=>{a.d(t,{cn:()=>o});var s=a(2821),r=a(75889);function o(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},29293:(e,t,a)=>{a.d(t,{A:()=>i,AuthProvider:()=>n});var s=a(95155),r=a(12115),o=a(20063);let l=(0,r.createContext)(void 0);function n(e){let{children:t}=e,[a,n]=(0,r.useState)(null),[i,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(!0),u=(0,o.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("auth_user"),t=localStorage.getItem("auth_profile");e&&n(JSON.parse(e)),t&&d(JSON.parse(t)),m(!1)},[]);let h=async(e,t,a)=>({error:null}),f=async(e,t)=>{if("admin@example.com"!==e||"123456"!==t)return{error:Error("Invalid email or password")};{let t={id:"1",email:e},a={id:"1",organization_id:null,email:e,full_name:"Demo Admin",role:"admin"};return n(t),d(a),localStorage.setItem("auth_user",JSON.stringify(t)),localStorage.setItem("auth_profile",JSON.stringify(a)),{error:null}}},x=async()=>{n(null),d(null),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_profile"),u.push("/login")};return(0,s.jsx)(l.Provider,{value:{user:a,profile:i,loading:c,signUp:h,signIn:f,signOut:x},children:t})}function i(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},36147:(e,t,a)=>{a.d(t,{N:()=>G});var s=a(95155),r=a(29293),o=a(97003),l=a(12115),n=a(89511),i=a(83101),d=a(65229),c=a(25016);let m=n.bL,u=n.l9;n.bm;let h=n.ZL,f=l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hJ,{className:(0,c.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});f.displayName=n.hJ.displayName;let x=(0,i.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=l.forwardRef((e,t)=>{let{side:a="right",className:r,children:o,...l}=e;return(0,s.jsxs)(h,{children:[(0,s.jsx)(f,{}),(0,s.jsxs)(n.UC,{ref:t,className:(0,c.cn)(x({side:a}),r),...l,children:[o,(0,s.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=n.UC.displayName,l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.hE,{ref:t,className:(0,c.cn)("text-lg font-semibold text-foreground",a),...r})}).displayName=n.hE.displayName,l.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",a),...r})}).displayName=n.VY.displayName;var g=a(59384),b=a(91169),v=a(96583),w=a(29633),N=a(69793),j=a(15870),y=a(16399),A=a(12108),S=a(24033),k=a(46826),C=a(89077),I=a(84926),_=a(9540),E=a(70898),R=a(50457),O=a(52619),J=a.n(O),z=a(20063),P=a(2821);let D=[{name:"Dashboard",href:"/dashboard",icon:g.A},{name:"Contacts",href:"/dashboard/contacts",icon:b.A},{name:"Leads",href:"/dashboard/leads",icon:v.A},{name:"Deals",href:"/dashboard/deals",icon:w.A},{name:"Activities",href:"/dashboard/activities",icon:N.A},{name:"Settings",href:"/dashboard/settings",icon:j.A}],$=[{name:"WhatsApp",icon:E.EcP,color:"text-green-500",url:"https://web.whatsapp.com",iframe:!1},{name:"Discord",icon:E.O4U,color:"text-indigo-500",url:"https://discord.com",iframe:!1},{name:"Instagram",icon:E.ao$,color:"text-pink-500",url:"https://www.instagram.com",iframe:!1},{name:"Facebook",icon:E.iYk,color:"text-blue-600",url:"https://www.facebook.com",iframe:!1},{name:"X (Twitter)",icon:E.feZ,color:"text-black",url:"https://twitter.com",iframe:!0},{name:"LinkedIn",icon:E.QEs,color:"text-sky-600",url:"https://www.linkedin.com",iframe:!0},{name:"Google Sheets",icon:R.CZR,color:"text-green-600",url:"https://docs.google.com/spreadsheets",iframe:!1},{name:"Google Drive",icon:E.N4S,color:"text-blue-500",url:"https://drive.google.com",iframe:!1},{name:"Gemini AI",icon:R.zR6,color:"text-purple-600",url:"https://gemini.com",iframe:!0},{name:"Slack",icon:E.iWS,color:"text-pink-600",url:"https://slack.com",iframe:!1},{name:"Trello",icon:E.IK4,color:"text-blue-500",url:"https://trello.com",iframe:!0},{name:"Notion",icon:R.i4$,color:"text-black",url:"https://www.notion.so",iframe:!1},{name:"Asana",icon:R.lic,color:"text-orange-500",url:"https://asana.com",iframe:!0}];function G(e){let{children:t}=e,{profile:a,signOut:n}=(0,r.A)(),i=(0,z.usePathname)(),[d,c]=(0,l.useState)(!1),[h,f]=(0,l.useState)(!1),[x,g]=(0,l.useState)(()=>{try{let e=localStorage.getItem("appsNav");return e?JSON.parse(e):[]}catch(e){return[]}}),[b,v]=(0,l.useState)(()=>localStorage.getItem("activeAppName")||null);(0,l.useEffect)(()=>{try{localStorage.setItem("appsNav",JSON.stringify(x))}catch(e){}},[x]),(0,l.useEffect)(()=>{try{b?localStorage.setItem("activeAppName",b):localStorage.removeItem("activeAppName")}catch(e){}},[b]);let w=e=>e&&$.find(t=>t.name===e)||null,N=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{className:"flex w-full items-center justify-between gap-3 rounded-xl px-4 py-2 text-slate-700 hover:bg-gradient-to-r hover:from-slate-50 hover:to-white transition-all duration-200",onClick:()=>f(e=>!e),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(y.A,{className:"h-5 w-5 text-red-600"}),(0,s.jsx)("span",{className:"font-medium",children:"Apps"})]}),h?(0,s.jsx)(A.A,{className:"h-4 w-4"}):(0,s.jsx)(S.A,{className:"h-4 w-4"})]}),h&&(0,s.jsx)("div",{className:"ml-6 mt-2 grid grid-cols-1 gap-2",children:$.map(e=>{let t=e.icon;return(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg px-3 py-2 bg-white shadow-sm hover:shadow-md hover:bg-red-50 transition-all duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 text-sm text-slate-700",children:[(0,s.jsx)(t,{className:"h-5 w-5 ".concat(e.color)}),e.name]}),(0,s.jsx)("button",{onClick:()=>{!x.includes(e.name)&&g(t=>[...t,e.name])},className:"text-slate-400 hover:text-red-600 transition-colors duration-200",children:(0,s.jsx)(k.A,{className:"h-4 w-4"})})]},e.name)})})]}),x.map(e=>{let t=w(e);if(!t)return null;let a=t.icon;return(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsxs)("button",{className:(0,P.A)("flex w-full items-center gap-3 rounded-xl px-4 py-2 text-left transition-all duration-200",b===t.name?"bg-gradient-to-r from-red-100 to-white text-red-600 shadow-md":"text-slate-700 hover:bg-gradient-to-r hover:from-slate-50 hover:to-white"),onClick:()=>{t.iframe?v(t.name):window.open(t.url,"_blank")},children:[(0,s.jsx)(a,{className:"h-5 w-5 ".concat(t.color)}),(0,s.jsx)("span",{className:"font-medium",children:t.name})]}),(0,s.jsx)("button",{onClick:e=>{var a;e.stopPropagation(),a=t.name,g(e=>e.filter(e=>e!==a)),b===a&&v(null)},className:"text-sm px-2 py-1 text-slate-400 hover:text-red-600",title:"Remove",children:"âœ•"})]},e)}),D.map(e=>{let t=i===e.href;return(0,s.jsxs)(J(),{href:e.href,className:(0,P.A)("flex items-center gap-3 rounded-xl px-4 py-2 transition-all duration-200 hover:bg-gradient-to-r hover:from-red-50 hover:to-white",t?"bg-gradient-to-r from-red-100 to-white text-red-600 shadow-md":"text-slate-700"),onClick:()=>c(!1),children:[(0,s.jsx)(e.icon,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"font-semibold",children:e.name})]},e.name)})]}),j=w(b);return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white",children:(0,s.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[(0,s.jsxs)("aside",{className:"hidden lg:flex lg:flex-col lg:w-64 lg:border-r lg:border-slate-200 lg:bg-white shadow-lg",children:[(0,s.jsxs)("div",{className:"flex h-16 items-center gap-2 border-b border-slate-200 px-6",children:[(0,s.jsx)(C.A,{className:"h-8 w-8 text-red-600"}),(0,s.jsx)("span",{className:"text-xl font-bold text-slate-900 ",children:"Granule CRM"})]}),(0,s.jsx)("nav",{className:"flex-1 space-y-2 px-3 py-4 overflow-y-auto",children:(0,s.jsx)(N,{})}),(0,s.jsxs)("div",{className:"border-t border-slate-200 p-4 bg-gradient-to-t from-white to-red-50 rounded-t-xl",children:[(0,s.jsxs)("div",{className:"mb-3",children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:null==a?void 0:a.full_name}),(0,s.jsx)("p",{className:"text-xs text-slate-500",children:null==a?void 0:a.email}),(0,s.jsx)("span",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 mt-1",children:null==a?void 0:a.role})]}),(0,s.jsxs)(o.$,{variant:"outline",className:"w-full hover:bg-red-50 hover:text-red-600 transition-all",onClick:n,children:[(0,s.jsx)(I.A,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})]}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,s.jsx)("header",{className:"flex h-16 items-center justify-between border-b border-slate-200 bg-white px-4 lg:px-6 shadow-sm",children:(0,s.jsxs)(m,{open:d,onOpenChange:c,children:[(0,s.jsx)(u,{asChild:!0,className:"lg:hidden",children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(_.A,{className:"h-6 w-6"})})}),(0,s.jsxs)(p,{side:"left",className:"w-64 p-0",children:[(0,s.jsxs)("div",{className:"flex h-16 items-center gap-2 border-b border-slate-200 px-6",children:[(0,s.jsx)(C.A,{className:"h-8 w-8 text-red-600"}),(0,s.jsx)("span",{className:"text-xl font-bold text-slate-900",children:"Granule CRM"})]}),(0,s.jsx)("nav",{className:"flex-1 space-y-1 px-3 py-4",children:(0,s.jsx)(N,{})})]})]})}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6 transition-all duration-300",children:j&&j.iframe?(0,s.jsx)("iframe",{src:j.url,className:"w-full h-full min-h-[600px] rounded-xl shadow-lg border border-slate-200 transition-all duration-300",frameBorder:0,title:j.name}):t})]})]})})}},97003:(e,t,a)=>{a.d(t,{$:()=>d});var s=a(95155),r=a(12115),o=a(32467),l=a(83101),n=a(25016);let i=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:a,variant:r,size:l,asChild:d=!1,...c}=e,m=d?o.DX:"button";return(0,s.jsx)(m,{className:(0,n.cn)(i({variant:r,size:l,className:a})),ref:t,...c})});d.displayName="Button"}}]);