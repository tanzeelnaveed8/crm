(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{20063:(e,r,t)=>{"use strict";var u=t(47260);t.o(u,"usePathname")&&t.d(r,{usePathname:function(){return u.usePathname}}),t.o(u,"useRouter")&&t.d(r,{useRouter:function(){return u.useRouter}})},29293:(e,r,t)=>{"use strict";t.d(r,{A:()=>o,AuthProvider:()=>l});var u=t(95155),a=t(12115),n=t(20063);let s=(0,a.createContext)(void 0);function l(e){let{children:r}=e,[t,l]=(0,a.useState)(null),[o,i]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),h=(0,n.useRouter)();(0,a.useEffect)(()=>{let e=localStorage.getItem("auth_user"),r=localStorage.getItem("auth_profile");e&&l(JSON.parse(e)),r&&i(JSON.parse(r)),d(!1)},[]);let m=async(e,r,t)=>({error:null}),f=async(e,r)=>{if("admin@example.com"!==e||"123456"!==r)return{error:Error("Invalid email or password")};{let r={id:"1",email:e},t={id:"1",organization_id:null,email:e,full_name:"Demo Admin",role:"admin"};return l(r),i(t),localStorage.setItem("auth_user",JSON.stringify(r)),localStorage.setItem("auth_profile",JSON.stringify(t)),{error:null}}},v=async()=>{l(null),i(null),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_profile"),h.push("/login")};return(0,u.jsx)(s.Provider,{value:{user:t,profile:o,loading:c,signUp:m,signIn:f,signOut:v},children:r})}function o(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},37322:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var u=t(95155),a=t(12115),n=t(20063),s=t(29293);function l(){let e=(0,n.useRouter)(),{user:r,loading:t}=(0,s.A)();return(0,a.useEffect)(()=>{t||(r?e.push("/dashboard"):e.push("/login"))},[r,t,e]),(0,u.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,u.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}},38426:(e,r,t)=>{Promise.resolve().then(t.bind(t,37322))}},e=>{e.O(0,[441,255,358],()=>e(e.s=38426)),_N_E=e.O()}]);