(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[631],{4139:(e,s,a)=>{"use strict";a.d(s,{O:()=>n});var l=a(95155),i=a(29293),r=a(20063),t=a(12115);function n(e){let{children:s}=e,{user:a,loading:n}=(0,i.A)(),d=(0,r.useRouter)();return((0,t.useEffect)(()=>{n||a||d.push("/login")},[a,n,d]),n)?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a?(0,l.jsx)(l.Fragment,{children:s}):null}},33789:(e,s,a)=>{"use strict";a.d(s,{p:()=>t});var l=a(95155),i=a(12115),r=a(25016);let t=i.forwardRef((e,s)=>{let{className:a,type:i,...t}=e;return(0,l.jsx)("input",{type:i,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...t})});t.displayName="Input"},43674:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var l=a(95155),i=a(12115),r=a(4139),t=a(36147),n=a(97003),d=a(33789),o=a(90235),c=a(83209),u=a(90923);let m=(0,a(70945).UU)("https://iqoqogkwyxxgmngjqbgy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlxb3FvZ2t3eXh4Z21uZ2pxYmd5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzODI5ODcsImV4cCI6MjA3NDk1ODk4N30.Fh9Pu5lTlIyfqS-l0-T4nzzGKRQd5j9HeQpPp-3cevs");var f=a(29293),x=a(18720);function p(){let{profile:e,user:s}=(0,f.A)(),[a,p]=(0,i.useState)(!1),[g,h]=(0,i.useState)(null),[j,b]=(0,i.useState)({full_name:"",email:""}),[v,y]=(0,i.useState)({name:"",slug:""});(0,i.useEffect)(()=>{e&&(b({full_name:e.full_name||"",email:e.email}),N())},[e]);let N=async()=>{try{let{data:s,error:a}=await m.from("organizations").select("*").eq("id",null==e?void 0:e.organization_id).maybeSingle();if(a)throw a;s&&(h(s),y({name:s.name,slug:s.slug}))}catch(e){console.error("Error loading organization:",e)}},w=async e=>{e.preventDefault(),p(!0);try{let{error:e}=await m.from("profiles").update({full_name:j.full_name}).eq("id",null==s?void 0:s.id);if(e)throw e;x.oR.success("Profile updated successfully")}catch(e){console.error("Error updating profile:",e),x.oR.error("Failed to update profile")}finally{p(!1)}},z=async e=>{e.preventDefault(),p(!0);try{let{error:e}=await m.from("organizations").update({name:v.name}).eq("id",null==g?void 0:g.id);if(e)throw e;x.oR.success("Organization updated successfully"),N()}catch(e){console.error("Error updating organization:",e),x.oR.error("Failed to update organization")}finally{p(!1)}};return(0,l.jsx)(r.O,{children:(0,l.jsx)(t.N,{children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Settings"}),(0,l.jsx)("p",{className:"text-slate-600 mt-1",children:"Manage your account and organization settings"})]}),(0,l.jsxs)(u.tU,{defaultValue:"profile",className:"space-y-6",children:[(0,l.jsxs)(u.j7,{children:[(0,l.jsx)(u.Xi,{value:"profile",children:"Profile"}),(0,l.jsx)(u.Xi,{value:"organization",children:"Organization"})]}),(0,l.jsx)(u.av,{value:"profile",children:(0,l.jsxs)(c.Zp,{children:[(0,l.jsxs)(c.aR,{children:[(0,l.jsx)(c.ZB,{children:"Profile Information"}),(0,l.jsx)(c.BT,{children:"Update your personal information"})]}),(0,l.jsx)(c.Wu,{children:(0,l.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(o.J,{htmlFor:"full_name",children:"Full Name"}),(0,l.jsx)(d.p,{id:"full_name",value:j.full_name,onChange:e=>b({...j,full_name:e.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(o.J,{htmlFor:"email",children:"Email"}),(0,l.jsx)(d.p,{id:"email",type:"email",value:j.email,disabled:!0,className:"bg-slate-50"}),(0,l.jsx)("p",{className:"text-xs text-slate-500",children:"Email cannot be changed"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(o.J,{children:"Role"}),(0,l.jsx)("div",{className:"inline-flex items-center rounded-full bg-blue-50 px-3 py-1 text-sm font-medium text-blue-700",children:null==e?void 0:e.role})]}),(0,l.jsx)(n.$,{type:"submit",disabled:a,children:a?"Saving...":"Save Changes"})]})})]})}),(0,l.jsxs)(u.av,{value:"organization",children:[(0,l.jsxs)(c.Zp,{children:[(0,l.jsxs)(c.aR,{children:[(0,l.jsx)(c.ZB,{children:"Organization Settings"}),(0,l.jsx)(c.BT,{children:"Manage your organization details"})]}),(0,l.jsx)(c.Wu,{children:(0,l.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(o.J,{htmlFor:"org_name",children:"Organization Name"}),(0,l.jsx)(d.p,{id:"org_name",value:v.name,onChange:e=>y({...v,name:e.target.value})})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(o.J,{htmlFor:"org_slug",children:"Organization Slug"}),(0,l.jsx)(d.p,{id:"org_slug",value:v.slug,disabled:!0,className:"bg-slate-50"}),(0,l.jsx)("p",{className:"text-xs text-slate-500",children:"Organization slug cannot be changed"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(o.J,{children:"Created"}),(0,l.jsx)("p",{className:"text-sm text-slate-600",children:(null==g?void 0:g.created_at)&&new Date(g.created_at).toLocaleDateString()})]}),(0,l.jsx)(n.$,{type:"submit",disabled:a,children:a?"Saving...":"Save Changes"})]})})]}),(0,l.jsxs)(c.Zp,{className:"mt-6",children:[(0,l.jsxs)(c.aR,{children:[(0,l.jsx)(c.ZB,{children:"Team Members"}),(0,l.jsx)(c.BT,{children:"View team members in your organization"})]}),(0,l.jsx)(c.Wu,{children:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between py-2 border-b",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium",children:(null==e?void 0:e.full_name)||"You"}),(0,l.jsx)("p",{className:"text-sm text-slate-600",children:null==e?void 0:e.email})]}),(0,l.jsx)("div",{className:"inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700",children:null==e?void 0:e.role})]}),(0,l.jsx)("p",{className:"text-sm text-slate-500 mt-4",children:"Team member management coming soon"})]})})]})]})]})]})})})}},83209:(e,s,a)=>{"use strict";a.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>t,aR:()=>n,wL:()=>u});var l=a(95155),i=a(12115),r=a(25016);let t=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...i})});t.displayName="Card";let n=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",a),...i})});n.displayName="CardHeader";let d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});d.displayName="CardTitle";let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...i})});o.displayName="CardDescription";let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",a),...i})});c.displayName="CardContent";let u=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",a),...i})});u.displayName="CardFooter"},90235:(e,s,a)=>{"use strict";a.d(s,{J:()=>o});var l=a(95155),i=a(12115),r=a(10489),t=a(83101),n=a(25016);let d=(0,t.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)(r.b,{ref:s,className:(0,n.cn)(d(),a),...i})});o.displayName=r.b.displayName},90923:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>n});var l=a(95155),i=a(12115),r=a(60574),t=a(25016);let n=r.bL,d=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)(r.B8,{ref:s,className:(0,t.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...i})});d.displayName=r.B8.displayName;let o=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)(r.l9,{ref:s,className:(0,t.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...i})});o.displayName=r.l9.displayName;let c=i.forwardRef((e,s)=>{let{className:a,...i}=e;return(0,l.jsx)(r.UC,{ref:s,className:(0,t.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...i})});c.displayName=r.UC.displayName},91533:(e,s,a)=>{Promise.resolve().then(a.bind(a,43674))}},e=>{e.O(0,[362,711,775,270,720,635,518,147,441,255,358],()=>e(e.s=91533)),_N_E=e.O()}]);